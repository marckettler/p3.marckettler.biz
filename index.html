<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <title>Baseball Scorecard</title>
    <link rel="stylesheet" href="css/p3.css">
    <link rel="stylesheet" href="css/black-tie/jquery-ui-1.10.3.custom.css">
    <script src="js/jquery-1.9.1.js"></script>
    <script src="js/jquery-ui-1.10.3.custom.js"></script>
    <script src="js/score-card.js"></script>
    <script>
        var scoreCard;
        var controlArea;
        function pageLoad()
        {
            scoreCard = new ScoreCard($("#bg"),$("#fg"),9);
            controlArea = new ControlArea(scoreCard,$("#controlArea"));
            $( "#double-play-dialog" ).dialog({
                autoOpen: false,
                height: 300,
                width: 350,
                modal: true,
                buttons: {
                    "Next AB": function() {
                        $( this ).dialog( "close" );
                    }
                },
                close: function() {
                    scoreCard.nextAB();
                }
            });

            $( "#advance-runner-dialog-form" ).dialog({
                autoOpen: false,
                height: 300,
                width: 350,
                modal: true,
                buttons: {
                    "Next AB": function() {
                        $( this ).dialog( "close" );
                    }
                },
                close: function() {
                    scoreCard.nextAB();
                }
            });

            $( "#1H")
                    .button()
                    .click(function(){
                        scoreCard.recordOut(scoreCard.onFirst);
                        scoreCard.onFirst = null;
                        scoreCard.recordOut(scoreCard.currentAB);
                    });
            $( ".next-ab")
                    .button()
                    .click(function() {
                        scoreCard.nextAB();
                    });
            $( ".double-play")
                    .button()
                    .click(function() {
                        $( "#double-play-dialog" ).dialog( "open" );
                    });
            $( ".advance-runners" )
                    .button()
                    .click(function(id) {
                        $( "#advance-runner-dialog-form" ).dialog( "open" );
                    });
            $( "#accordion" ).accordion({
                collapsible: true,
                heightStyle: "content"
            });
        }
    </script>
</head>
<body onload="pageLoad()">
    <div>
        <div class="container">
            <canvas class="bg" id="bg"></canvas>
            <canvas class="fg" id="fg"></canvas>
        </div>
        <div class="controlArea" id="controlArea">
            <div id="accordion">
                <h3>Hits/Walks</h3>
                <div>
                    <button type="button" class="next-ab" onclick="scoreCard.processAB('S')">Single</button>
                    <button type="button" class="next-ab" onclick="scoreCard.processAB('D')">Double</button></br>
                    <button type="button" class="next-ab" onclick="scoreCard.processAB('T')">Triple</button>
                    <button type="button" class="next-ab" onclick="scoreCard.processAB('H')">Home Run!</button></br>
                    <button type="button" class="next-ab" onclick="scoreCard.processAB('W')">Walk</button>
                    <button type="button" class="next-ab" onclick="scoreCard.processAB('I')">Intentional Walk</button>
                    <button type="button" class="next-ab" onclick="scoreCard.processAB('B')">Hit By Pitch</button>
                </div>
                <h3>Outs</h3>
                <div>
                    <button type="button" onclick="scoreCard.processAB('F')">Fielder's Choice</button>
                    <button type="button" class="next-ab" onclick="scoreCard.processAB('K')">Strikeout</button>
                    <button type="button" class="double-play">Double Play</button>
                    <button type="button" class="triple-play">Triple Play</button>
                    <button type="button" class="next-ab" onclick="scoreCard.processAB('')">Sac Fly</button>
                    <button type="button" class="next-ab" onclick="scoreCard.processAB('K')">Sac Hit/Bunt</button>
                </div>
                <h3>Base Running Events</h3>
                <div>
                    <button type="button" onclick="scoreCard.preAB('SB12')">Steal 2nd</button>
                    <button type="button" onclick="scoreCard.preAB('SB23')">Steal 3rd</button>
                    <button type="button" onclick="scoreCard.preAB('SB3H')">Steal Home</button>
                    <button type="button" onclick="scoreCard.preAB('CS12')">CS 2nd</button>
                    <button type="button" onclick="scoreCard.preAB('CS23')">CS 3rd</button>
                    <button type="button" onclick="scoreCard.preAB('CS3H')">CS Home</button>
                    <button type="button" onclick="scoreCard.preAB('PO1')">PO 1st</button>
                    <button type="button" onclick="scoreCard.preAB('PO2')">PO 2nd</button>
                    <button type="button" onclick="scoreCard.preAB('PO3')">PO 3rd</button>
                    <button type="button" onclick="scoreCard.preAB('BK')">Balk</button>
                </div>
            </div>
        </div>
        <div id="advance-runner-dialog-form" title="Advance Runners">
            <div>
                <button type="button" onclick="scoreCard.postAB('1-2')">1-2</button>
                <button type="button" onclick="scoreCard.postAB('1x2')">1x2</button>
                <button type="button" onclick="scoreCard.postAB('1-3')">1-3</button>
                <button type="button" onclick="scoreCard.postAB('1x3')">1x3</button>
                <button type="button" onclick="scoreCard.postAB('1-H')">1-H</button>
                <button type="button" onclick="scoreCard.postAB('1xH')">1xH</button>
                <button type="button" onclick="scoreCard.postAB('2-3')">2-3</button>
                <button type="button" onclick="scoreCard.postAB('2x3')">2x3</button>
                <button type="button" onclick="scoreCard.postAB('2-H')">2-H</button>
                <button type="button" onclick="scoreCard.postAB('2xH')">2xH</button>
                <button type="button" onclick="scoreCard.postAB('3-H')">3-H</button>
                <button type="button" onclick="scoreCard.postAB('3xH')">3xH</button>
            </div>
        </div>
        <div id="double-play-dialog" title="Outs At">
            <div>
                <button type="button" id="1H">1st & 2nd</button>
                <button type="button" id="2H"></button>
                <button type="button" id="3H">Out to 3rd</button>
                <button type="button" id="21">Out to Home</button>
                <button type="button" id="31">1-H</button>
                <button type="button" id="32">1xH</button>
            </div>
        </div>
    </div>
</body>
<div id="debug" style="background-color: #ffff00;position: absolute;bottom:0px">Test</div>
</html>
